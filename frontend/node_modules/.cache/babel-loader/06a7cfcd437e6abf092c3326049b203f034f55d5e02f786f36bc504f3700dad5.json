{"ast":null,"code":"var _jsxFileName = \"/Users/ishanidas/Desktop/informedvotr-depl/frontend/src/StatePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { Card, CardActionArea, CardContent, Typography, Button } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StatePage = () => {\n  _s();\n  const {\n    stateCode\n  } = useParams();\n  const navigate = useNavigate();\n  const [sessionId, setSessionId] = useState(null);\n  // const [billGeneralInfo, setBillGeneralInfo] = useState(null);\n  const [posts, setPosts] = useState([]);\n  const [visibleCards, setVisibleCards] = useState(6); // state variable for visible cards\n\n  useEffect(() => {\n    // getSessionList - retrieves sessions by year\n    // getMasterList - retireves master bill list by session\n    let sessionId;\n    axios.post(`https://api.legiscan.com/?key=6ef4e9b53f820698d5d6a447dc7499c7&op=getSessionList&state=${stateCode}`).then(response => {\n      console.log('resp data : ', response.data.sessions);\n      const fetchedSessionId = '' + response.data.sessions[0].session_id;\n      console.log('session_id for most recent session : ', fetchedSessionId);\n      setSessionId(fetchedSessionId);\n\n      // setPosts(response.data.sessions);\n    }).catch(error => {\n      console.error(\"ERROR FETCHING DATA : \", error);\n    });\n  }, [stateCode]); // what does stateCode do here??\n\n  useEffect(() => {\n    if (sessionId) {\n      console.log(\"THE ID : \", sessionId);\n      axios.post(`https://api.legiscan.com/?key=6ef4e9b53f820698d5d6a447dc7499c7&op=getMasterList&id=${sessionId}`).then(response => {\n        console.log('RESP DATA FOR THIS SESSION : ', response.data.masterlist);\n        const bills = Object.values(response.data.masterlist);\n        setPosts(bills);\n      }).catch(error => {\n        console.error(\"ERROR FETCHING DATA : \", error);\n      });\n    }\n  }, [sessionId]);\n  const handleCardClick = billId => {\n    navigate(`/bill/${billId}`);\n  };\n  const handleShowMore = () => {\n    setVisibleCards(prevVisibleCards => prevVisibleCards + 6);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Recent \", stateCode, \" Bills\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        gap: '16px'\n      },\n      children: posts.slice(0, visibleCards).map(post => /*#__PURE__*/_jsxDEV(Card, {\n        style: {\n          maxWidth: 345\n        },\n        onClick: () => handleCardClick(post.bill_id),\n        children: /*#__PURE__*/_jsxDEV(CardActionArea, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              gutterBottom: true,\n              variant: \"h5\",\n              component: \"div\",\n              children: post.number\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: post.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)\n      }, post.bill_id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), visibleCards < posts.length && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        marginTop: '16px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: handleShowMore,\n        children: \"See More\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n_s(StatePage, \"IxuWqCuhKfhaHB3EyBcpQz5s6a4=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = StatePage;\nexport default StatePage;\nvar _c;\n$RefreshReg$(_c, \"StatePage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","Card","CardActionArea","CardContent","Typography","Button","jsxDEV","_jsxDEV","StatePage","_s","stateCode","navigate","sessionId","setSessionId","posts","setPosts","visibleCards","setVisibleCards","post","then","response","console","log","data","sessions","fetchedSessionId","session_id","catch","error","masterlist","bills","Object","values","handleCardClick","billId","handleShowMore","prevVisibleCards","children","fileName","_jsxFileName","lineNumber","columnNumber","style","display","flexWrap","gap","slice","map","maxWidth","onClick","bill_id","gutterBottom","variant","component","number","color","title","length","justifyContent","marginTop","_c","$RefreshReg$"],"sources":["/Users/ishanidas/Desktop/informedvotr-depl/frontend/src/StatePage.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nimport { Card, CardActionArea, CardContent, Typography, Button } from '@mui/material';\n\n\n\n\n\nconst StatePage = () => {\n  const { stateCode } = useParams();\n  const navigate = useNavigate();\n  const [sessionId, setSessionId] = useState(null);\n  // const [billGeneralInfo, setBillGeneralInfo] = useState(null);\n  const [posts, setPosts] = useState([]);\n  const [visibleCards, setVisibleCards] = useState(6); // state variable for visible cards\n\n\n  useEffect(() => {\n    // getSessionList - retrieves sessions by year\n    // getMasterList - retireves master bill list by session\n    let sessionId;\n    axios.post(`https://api.legiscan.com/?key=6ef4e9b53f820698d5d6a447dc7499c7&op=getSessionList&state=${stateCode}`).then(response => {\n        console.log('resp data : ', response.data.sessions)\n        const fetchedSessionId = ''+response.data.sessions[0].session_id;\n        console.log('session_id for most recent session : ', fetchedSessionId)\n        setSessionId(fetchedSessionId)\n\n        // setPosts(response.data.sessions);\n    }).catch(error => {\n        console.error(\"ERROR FETCHING DATA : \", error)\n    });\n    \n  }, [stateCode]); // what does stateCode do here??\n\n  useEffect(() => {\n\n    if(sessionId) { \n        console.log(\"THE ID : \", sessionId)\n\n        axios.post(`https://api.legiscan.com/?key=6ef4e9b53f820698d5d6a447dc7499c7&op=getMasterList&id=${sessionId}`).then(response => {\n            console.log('RESP DATA FOR THIS SESSION : ', response.data.masterlist)\n            const bills = Object.values(response.data.masterlist);\n            setPosts(bills);\n        }).catch(error => {\n            console.error(\"ERROR FETCHING DATA : \", error)\n        })\n    }\n    \n  }, [sessionId]);\n\n  const handleCardClick = (billId) => {\n    navigate(`/bill/${billId}`);\n  };\n\n  const handleShowMore = () => {\n    setVisibleCards(prevVisibleCards => prevVisibleCards + 6);\n  };\n\n  return (\n    <div>\n      <br />\n      <h1>Recent {stateCode} Bills</h1>\n      <div style={{ display: 'flex', flexWrap: 'wrap', gap: '16px' }}>\n        {posts.slice(0,visibleCards).map(post => (\n          <Card key={post.bill_id} style={{ maxWidth: 345 }} onClick={() => handleCardClick(post.bill_id)}>\n            <CardActionArea>\n              <CardContent>\n                <Typography gutterBottom variant=\"h5\" component=\"div\">\n                  {post.number}\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  {post.title}\n                </Typography>\n              </CardContent>\n            </CardActionArea>\n          </Card>\n        ))}\n      </div>\n      {visibleCards < posts.length && (\n        <div style={{ display: 'flex', justifyContent: 'center', marginTop: '16px' }}>\n          <Button variant=\"contained\" color=\"primary\" onClick={handleShowMore}>\n            See More\n          </Button>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default StatePage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}